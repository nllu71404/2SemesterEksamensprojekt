<Page x:Class="_2SemesterEksamensProjekt.Views.Pages.ProjectPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Width="800"
      Height="450">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Top Bar -->
        <Grid Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Administrer projekter"
                       Style="{StaticResource DashboardTitleText}"
                       FontSize="16"
                       HorizontalAlignment="Left"/>

            <Button Content="Menu"
                    Style="{StaticResource DashboardButton}"
                    Width="100"
                    Height="40"
                    HorizontalAlignment="Right"
                    Click="MainMenuButtom_Click"/>
        </Grid>

        <!-- Main Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="240"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Left Panel -->
            <StackPanel Grid.Column="0" Margin="0,0,15,0">

                <!-- Projekttitel Box -->
                <Border Style="{StaticResource CardStyle}"
                        Padding="15"
                        Height="225"
                        Margin="0,0,0,10">
                    <StackPanel>
                        <TextBlock Text="Projekttitel"
                                   FontSize="13"
                                   Foreground="{StaticResource AccentBrush}"
                                   Margin="0,0,0,8"/>
                        <TextBox Text="{Binding ProjectTitle, UpdateSourceTrigger=PropertyChanged}"
                                 Height="32"
                                 Padding="8"
                                 Background="#F5F5F5"
                                 BorderThickness="0"
                                 Margin="0,0,0,12"/>

                        <TextBlock Text="Vælg virksomhed"
                                   FontSize="13"
                                   Foreground="{StaticResource AccentBrush}"
                                   Margin="0,0,0,8"/>
                        <ComboBox ItemsSource="{Binding Companies}"
                                  SelectedItem="{Binding SelectedCompany}"
                                  DisplayMemberPath="CompanyName"
                                  Height="32"
                                  Padding="8,0,0,0"
                                  Background="#F5F5F5"
                                  BorderThickness="0"
                                  Margin="0,0,0,12"/>

                        <TextBlock Text="Status"
                                   FontSize="13"
                                   Foreground="{StaticResource AccentBrush}"
                                   Margin="0,0,0,8"/>
                        <ComboBox SelectedIndex="{Binding IsActive}"
                                  Height="32"
                                  Padding="8,0,0,0"
                                  Background="#F5F5F5"
                                  BorderThickness="0">
                            <ComboBoxItem Content="Aktivt projekt"/>
                            <ComboBoxItem Content="Inaktivt projekt"/>
                        </ComboBox>
                    </StackPanel>
                </Border>

                <!-- Buttons -->
                <Border Style="{StaticResource CardStyle}"
                        Padding="15"
                        Height="130">
                    <StackPanel>
                        <Button Content="Opret projekt"
                                Style="{StaticResource DashboardButton}"
                                Margin="0,0,0,5"
                                Click="SaveNewProject_Click"/>

                        <Button Content="Slet projekt"
                                Style="{StaticResource DashboardButton}"
                                Margin="0,0,0,5"
                                Click="DeleteProject_Click"/>

                        <Button Content="Rediger projekt"
                                Style="{StaticResource DashboardButton}"
                                Click="EditProject_Click"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Right Panel - Projektliste -->
            <Border Style="{StaticResource CardStyle}"
                    Grid.Column="1"
                    Padding="20">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Header -->
                    <TextBlock Grid.Row="0"
                               Text="Projektliste"
                               Style="{StaticResource DashboardTitleText}"
                               FontSize="20"
                               HorizontalAlignment="Left"
                               Margin="0,0,0,20"/>

                    <!-- Liste -->
                    <ListBox Grid.Row="1"
                             ItemsSource="{Binding Projects}"
                             SelectedItem="{Binding SelectedProject}"
                             Background="Transparent"
                             BorderThickness="0">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="{StaticResource AccentBrush}"
                                        BorderThickness="3,0,0,0"
                                        Padding="15,10"
                                        Margin="0,0,0,3"
                                        Background="Transparent">
                                    <TextBlock Text="{Binding ProjectTitle}"
                                               FontSize="13"/>
                                </Border>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>

                    <!-- Besked -->
                    <Border Grid.Row="2"
                            Background="#F4D03F"
                            CornerRadius="8"
                            Padding="15"
                            Margin="0,15,0,0"
                            Height="45"
                            Visibility="{Binding BeskedSynlighed}">
                        <TextBlock Text="{Binding BeskedTekst}"
                                   FontSize="13"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   FontWeight="SemiBold"/>
                    </Border>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Page>